{
  "train_input_path": "C:\\data\\avazu-ctr-prediction\\train.csv",
  "model_dir": "/home/wangbo/tf_model/time_",
  "train_config": {
    "epochs": 2,
    "steps_per_epoch":100,
    "loss": "binary_crossentropy",
    "metrics": ["AUC"],
    "optimizer": {
      "name": "adam",
      "learning_rate": {
          "schedule": "exponential_decay",
          "initial_learning_rate": 0.0001,
          "decay_steps": 10000,
          "decay_rate": 0.5
      }
    }
  },
  "data_config": {
    "separator": ",",
    "input_fields": [
      {"input_name": "id", "input_type": "STRING", "default_val": "0"},
      {"input_name": "click", "input_type": "INT64", "default_val": "0"},
      {"input_name": "hour", "input_type": "INT64", "default_val": "0"},
      {"input_name": "C1", "input_type": "INT64", "default_val": "0"},
      {"input_name": "banner_pos", "input_type": "INT64", "default_val": "0"},
      {"input_name": "site_id", "input_type": "STRING", "default_val": "0"},
      {"input_name": "site_domain", "input_type": "STRING", "default_val": "0"},
      {"input_name": "site_category", "input_type": "STRING", "default_val": "0"},
      {"input_name": "app_id", "input_type": "STRING", "default_val": "0"},
      {"input_name": "app_domain", "input_type": "STRING", "default_val": "0"},
      {"input_name": "app_category", "input_type": "STRING", "default_val": "0"},
      {"input_name": "device_id", "input_type": "STRING", "default_val": "0"},
      {"input_name": "device_ip", "input_type": "STRING", "default_val": "0"},
      {"input_name": "device_model", "input_type": "STRING", "default_val": "0"},
      {"input_name": "device_type", "input_type": "STRING", "default_val": "0"},
      {"input_name": "device_conn_type", "input_type": "STRING", "default_val": "0"},
      {"input_name": "C14", "input_type": "STRING", "default_val": "0"},
      {"input_name": "C15", "input_type": "STRING", "default_val": "0"},
      {"input_name": "C16", "input_type": "STRING", "default_val": "0"},
      {"input_name": "C17", "input_type": "STRING", "default_val": "0"},
      {"input_name": "C18", "input_type": "STRING", "default_val": "0"},
      {"input_name": "C19", "input_type": "INT64", "default_val": "0"},
      {"input_name": "C20", "input_type": "INT64", "default_val": "0"},
      {"input_name": "C21", "input_type": "INT64", "default_val": "0"}
    ],
    "label_fields": "click",
    "batch_size": 512,
    "prefetch_size": 8,
    "input_type": "CSVInput"
  },
  "feature_config": {
    "features": [
      {"input_names": ["site_id", "app_id"], "feature_name": "site_id_app_id", "feature_type": "ComboFeature", "hash_bucket_size": 1000, "embedding_dim": 16},
      {"input_names": "hour", "feature_type": "IdFeature", "int_vocab_list": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24], "embedding_dim": 16},
      {"input_names": "C1", "feature_type": "RawFeature", "boundaries": [1000.0,1001.0,1002.0,1003.0,1004.0,1005.0,1006.0,1007.0,1008.0,1009.0,1010.0,1011.0,1012.0,1013.0,1014.0,1015.0], "embedding_dim": 16},
      {"input_names": "banner_pos", "feature_type": "RawFeature", "boundaries": [1,2,3,4,5,6], "embedding_dim": 16},
      {"input_names": "site_id", "feature_type": "IdFeature", "hash_bucket_size": 10000, "embedding_dim": 16},
      {"input_names": "site_domain", "feature_type": "IdFeature", "hash_bucket_size": 100, "embedding_dim": 16},
      {"input_names": "site_category", "feature_type": "IdFeature", "hash_bucket_size": 100, "embedding_dim": 16},
      {"input_names": "app_id", "feature_type": "IdFeature", "hash_bucket_size": 10000, "embedding_dim": 16},
      {"input_names": "app_domain", "feature_type": "IdFeature", "hash_bucket_size": 1000, "embedding_dim": 16},
      {"input_names": "app_category", "feature_type": "IdFeature", "hash_bucket_size": 100, "embedding_dim": 16},
      {"input_names": "device_id", "feature_type": "IdFeature", "hash_bucket_size": 100000, "embedding_dim": 16},
      {"input_names": "device_ip", "feature_type": "IdFeature", "hash_bucket_size": 100000, "embedding_dim": 16},
      {"input_names": "device_model", "feature_type": "IdFeature", "hash_bucket_size": 10000, "embedding_dim": 16},
      {"input_names": "device_type", "feature_type": "IdFeature", "hash_bucket_size": 10, "embedding_dim": 16},
      {"input_names": "device_conn_type", "feature_type": "IdFeature", "hash_bucket_size": 10, "embedding_dim": 16},
      {"input_names": "C14", "feature_type": "IdFeature", "hash_bucket_size": 500, "embedding_dim": 16},
      {"input_names": "C15", "feature_type": "IdFeature", "hash_bucket_size": 500, "embedding_dim": 16},
      {"input_names": "C16", "feature_type": "IdFeature", "hash_bucket_size": 500, "embedding_dim": 16},
      {"input_names": "C17", "feature_type": "IdFeature", "hash_bucket_size": 500, "embedding_dim": 16},
      {"input_names": "C18", "feature_type": "IdFeature", "hash_bucket_size": 500, "embedding_dim": 16},
      {"input_names": "C19", "feature_type": "RawFeature", "boundaries": [10,20,30,40,50,60,70,80,90,100,110,120,130,140,150,160,170,180,190], "embedding_dim": 16},
      {"input_names": "C20", "feature_type": "RawFeature", "boundaries": [100.0,200.0,300.0,400.0,500.0,600.0,700.0,800.0,  900.0, 1000.0,1100.0,1200.0, 1300.0,1400.0], "embedding_dim": 16},
      {"input_names": "C21", "feature_type": "RawFeature", "boundaries": [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25], "embedding_dim": 16}
    ]
  },
  "model_config": {
    "embedding_dim": 16,
    "wide_output_dim": 16,
    "deep_hidden_units": [128, 64, 32, 16, 8, 1],
    "final_hidden_units": [128, 64],
    "l2_reg": 0.0001
  }
}